<div id="main-container">
  <div class="page-header card">
    <p>اضافة سقف مالي جديد</p>
  </div>

  <div class="page-content card">
      <form [formGroup]="addAgentLimitsForm" (ngSubmit)="addAgentLimit()">
        <div class="form-sec1">
          <div class="form-control-group">
            <label for="limitAmount">المبلغ المالي</label>
            <input id="limitAmount" type="number" name="limitAmount" formControlName="limitAmount" required/>
          </div>
          <div class="form-control-group">
            <div class="label-with-data">
              <label for="agentID">رقم الوكيل لـ :</label>
              <span *ngIf="fullname">{{fullname}}</span>
            </div>
            <input id="agentID" type="text" (keyup)="searchAgent($event)" list="agentsList"
             name="agentID" formControlName="agentID" required/>
            <datalist id="agentsList">
              <option *ngFor="let agent of agents;" [value]="agent._id">{{agent.username}} || {{agent.nickname}}</option>
            </datalist>
          </div>
        </div>

        <div class="btn-container">
          <button type="submit">
            <span>حفظ</span>
          </button>
        </div>
        <div class="error" *ngIf="errorMsg">{{errorMsg}}</div>
        <div class="success" *ngIf="successMsg">{{successMsg}}</div>
      </form>
  </div>
</div>
